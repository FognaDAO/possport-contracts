from brownie import FakeToken, PossPorts, accounts

class Token:
    def __init__(self, newTokenId, oldTokenId, tokenURI):
        self.newTokenId = newTokenId
        self.oldTokenId = oldTokenId
        self.tokenURI = tokenURI

polygon = {
    "oldContract": "0x2953399124f0cbb46d2cbacd8a89cf0599974963",
    "tokens": [
        Token(1, 10110860822564241239994147652924744222037427536707093556420917645282000240641, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(2, 10110860822564241239994147652924744222037427536707093556420917646381511868417, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(3, 10110860822564241239994147652924744222037427536707093556420917647481023496193, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(4, 10110860822564241239994147652924744222037427536707093556420917648580535123969, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(5, 10110860822564241239994147652924744222037427536707093556420917650779558379521, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(6, 10110860822564241239994147652924744222037427536707093556420917651879070007297, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(7, 10110860822564241239994147652924744222037427536707093556420917652978581635073, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(8, 10110860822564241239994147652924744222037427536707093556420917654078093262849, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(9, 10110860822564241239994147652924744222037427536707093556420917655177604890625, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(10, 10110860822564241239994147652924744222037427536707093556420917656277116518401, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(11, 10110860822564241239994147652924744222037427536707093556420917657376628146177, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(12, 10110860822564241239994147652924744222037427536707093556420917658476139773953, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(13, 10110860822564241239994147652924744222037427536707093556420917659575651401729, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(14, 10110860822564241239994147652924744222037427536707093556420917660675163029505, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(15, 10110860822564241239994147652924744222037427536707093556420917661774674657281, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(16, 10110860822564241239994147652924744222037427536707093556420917662874186285057, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(17, 10110860822564241239994147652924744222037427536707093556420917663973697912833, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(18, 10110860822564241239994147652924744222037427536707093556420917665073209540609, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(19, 10110860822564241239994147652924744222037427536707093556420917666172721168385, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(20, 10110860822564241239994147652924744222037427536707093556420917667272232796161, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(21, 10110860822564241239994147652924744222037427536707093556420917668371744423937, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(22, 10110860822564241239994147652924744222037427536707093556420917669471256051713, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(23, 10110860822564241239994147652924744222037427536707093556420917670570767679489, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(24, 10110860822564241239994147652924744222037427536707093556420917671670279307265, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(25, 10110860822564241239994147652924744222037427536707093556420917672769790935041, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(26, 10110860822564241239994147652924744222037427536707093556420917673869302562817, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(27, 10110860822564241239994147652924744222037427536707093556420917674968814190593, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(28, 10110860822564241239994147652924744222037427536707093556420917676068325818369, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(29, 10110860822564241239994147652924744222037427536707093556420917677167837446145, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(30, 10110860822564241239994147652924744222037427536707093556420917678267349073921, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(31, 10110860822564241239994147652924744222037427536707093556420917679366860701697, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(32, 10110860822564241239994147652924744222037427536707093556420917680466372329473, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(33, 10110860822564241239994147652924744222037427536707093556420917681565883957249, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(34, 10110860822564241239994147652924744222037427536707093556420917682665395585025, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(35, 10110860822564241239994147652924744222037427536707093556420917683764907212801, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(36, 10110860822564241239994147652924744222037427536707093556420917684864418840577, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(37, 10110860822564241239994147652924744222037427536707093556420917685963930468353, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(38, 10110860822564241239994147652924744222037427536707093556420917687063442096129, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(39, 10110860822564241239994147652924744222037427536707093556420917688162953723905, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(40, 10110860822564241239994147652924744222037427536707093556420917689262465351681, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(41, 10110860822564241239994147652924744222037427536707093556420917690361976979457, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(42, 10110860822564241239994147652924744222037427536707093556420917691461488607233, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(43, 10110860822564241239994147652924744222037427536707093556420917692561000235009, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(44, 10110860822564241239994147652924744222037427536707093556420917693660511862785, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(45, 10110860822564241239994147652924744222037427536707093556420917694760023490561, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(46, 10110860822564241239994147652924744222037427536707093556420917695859535118337, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(47, 10110860822564241239994147652924744222037427536707093556420917696959046746113, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(48, 10110860822564241239994147652924744222037427536707093556420917698058558373889, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(49, 10110860822564241239994147652924744222037427536707093556420917699158070001665, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa"),
        Token(50, 10110860822564241239994147652924744222037427536707093556420917700257581629441, "bafkreiefdseurmdpxwgnusejogmm2wg6bwr2gitbljpetxsda5yxl37rxa")
    ]
}

def local():
    # Mint fake old tokens
    oldToken = FakeToken.deploy({"from": accounts[0]})
    oldTokenIds = list(map(lambda t: t.oldTokenId, polygon["tokens"]))
    oldToken.mintBatch(accounts[0], oldTokenIds, [1] * len(oldTokenIds))
    assert oldToken.balanceOf(accounts[0], oldTokenIds[0]) == 1

    # Deploy PossPorts collection
    tokenURIs = list(map(lambda t: t.tokenURI, polygon["tokens"]))
    token = PossPorts.deploy(oldToken, oldTokenIds, tokenURIs, {"from": accounts[0]})
    assert token.balanceOf(accounts[0]) == 0
    return oldToken, token
